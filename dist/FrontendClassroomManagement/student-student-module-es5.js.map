{"version":3,"sources":["src/app/student/edit-student/edit-student.component.html","src/app/student/edit-student/edit-student.component.css","src/app/student/edit-student/edit-student.component.ts","src/app/student/student-routing.module.ts","src/app/student/student.module.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<section class=\\\"content-header\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row mb-2\\\">\\r\\n      <div class=\\\"col-sm-6\\\">\\r\\n        <h1>Cập nhật thông tin học viên</h1>\\r\\n      </div>\\r\\n      <div class=\\\"col-sm-6\\\">\\r\\n        <ol class=\\\"breadcrumb float-sm-right\\\">\\r\\n          <li class=\\\"breadcrumb-item\\\"><a routerLink=\\\"\\\">Trang chủ</a></li>\\r\\n          <li class=\\\"breadcrumb-item active\\\">Cập nhật thông tin</li>\\r\\n        </ol>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div><!-- /.container-fluid -->\\r\\n</section>\\r\\n<div class=\\\"card card-default\\\">\\r\\n  <div class=\\\"card-header\\\">\\r\\n    <h3 class=\\\"card-title\\\"></h3>\\r\\n  </div>\\r\\n  <!-- /.card-header -->\\r\\n  <!-- form start -->\\r\\n  <form [formGroup]=\\\"studentForm\\\" (ngSubmit)=\\\"updateStudent(id)\\\" id=\\\"student-form\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label for=\\\"studentId\\\">Mã học viên</label>\\r\\n        <input type=\\\"text\\\" formControlName=\\\"studentId\\\" name=\\\"studentId\\\" [value]=\\\"studentId\\\" class=\\\"form-control\\\"\\r\\n               id=\\\"studentId\\\"\\r\\n               placeholder=\\\"Mã học viên\\\">\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label for=\\\"name\\\">Tên học viên</label>\\r\\n        <input type=\\\"text\\\" formControlName=\\\"name\\\" name=\\\"name\\\" [value]=\\\"name\\\" class=\\\"form-control\\\" id=\\\"name\\\"\\r\\n               placeholder=\\\"Tên học viên\\\">\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\" *ngIf=\\\"!buttonChangeClicked\\\">\\r\\n        <label for=\\\"classes1\\\">Lớp học: </label>\\r\\n        <span id=\\\"classes1\\\" *ngIf=\\\"currentClass!=null\\\">{{currentClass.name}}</span>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary btn-sm ml-3\\\" (click)=\\\"changeButtonStatus()\\\">Đổi lớp</button>\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\" *ngIf=\\\"buttonChangeClicked\\\">\\r\\n        <label for=\\\"classes\\\">Lớp học: </label>\\r\\n        <select class=\\\"custom-select\\\" id=\\\"classes\\\" name=\\\"classes\\\" formControlName=\\\"classes\\\">\\r\\n          <option [ngValue]=\\\"null\\\" disabled>Chọn lớp học</option>\\r\\n          <option *ngFor=\\\"let classes of listClasses\\\" [value]=\\\"classes.id\\\"\\r\\n                  [selected]=\\\"classes.id === currentClass.id\\\">{{classes.name}}</option>\\r\\n        </select>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!-- /.card-body -->\\r\\n\\r\\n    <div class=\\\"card-footer\\\">\\r\\n      <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Cập nhật</button>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N0dWRlbnQvZWRpdC1zdHVkZW50L2VkaXQtc3R1ZGVudC5jb21wb25lbnQuY3NzIn0= */\"","import {Component, OnInit} from '@angular/core';\r\nimport {Subscription} from \"rxjs\";\r\nimport {FormControl, FormGroup} from \"@angular/forms\";\r\nimport {Classes} from \"../../interface/classes\";\r\nimport {ActivatedRoute, ParamMap} from \"@angular/router\";\r\nimport {StudentService} from \"../../service/student/student.service\";\r\nimport {Student} from \"../../interface/student\";\r\nimport {ClassesService} from \"../../service/classes/classes.service\";\r\n\r\ndeclare var $: any;\r\ndeclare var Swal: any;\r\n\r\n@Component({\r\n  selector: 'app-edit-student',\r\n  templateUrl: './edit-student.component.html',\r\n  styleUrls: ['./edit-student.component.css']\r\n})\r\nexport class EditStudentComponent implements OnInit {\r\n  sub: Subscription;\r\n  name: string;\r\n  id: number;\r\n  studentId: string;\r\n  currentClass: Classes;\r\n  studentForm: FormGroup = new FormGroup({\r\n    name: new FormControl(''),\r\n    studentId: new FormControl(''),\r\n    classes: new FormControl()\r\n  });\r\n  listClasses: Classes[];\r\n  buttonChangeClicked: boolean;\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n              private studentService: StudentService,\r\n              private classesService: ClassesService) {\r\n    this.buttonChangeClicked = false;\r\n    this.sub = this.activatedRoute.paramMap.subscribe((paramMap: ParamMap) => {\r\n      const id = +paramMap.get('id');\r\n      this.getStudentInfo(id);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getAllClasses();\r\n  }\r\n\r\n  changeButtonStatus() {\r\n    this.buttonChangeClicked = !this.buttonChangeClicked;\r\n  }\r\n\r\n  getAllClasses() {\r\n    this.classesService.getAllClasses().subscribe(listClasses => {\r\n      this.listClasses = listClasses;\r\n    })\r\n  }\r\n\r\n  getStudentInfo(id: number) {\r\n    this.studentService.getStudent(id).subscribe(student => {\r\n      this.name = student.name;\r\n      this.id = student.id;\r\n      this.studentId = student.studentId;\r\n      this.currentClass = student.classes;\r\n    });\r\n  }\r\n\r\n  updateStudent(id: number) {\r\n    const student: Student = {\r\n      id: this.studentForm.value.id,\r\n      studentId: this.studentForm.value.studentId === '' ? this.studentId : this.studentForm.value.studentId,\r\n      name: this.studentForm.value.name === '' ? this.name : this.studentForm.value.name,\r\n      classes: {\r\n        id: this.studentForm.value.classes === '' ? this.currentClass.id : this.studentForm.value.classes\r\n      },\r\n    };\r\n    this.studentService.updateStudent(id, student).subscribe(() => {\r\n      $(function () {\r\n        const Toast = Swal.mixin({\r\n          toast: true,\r\n          position: 'top-end',\r\n          showConfirmButton: false,\r\n          timer: 3000\r\n        });\r\n\r\n        Toast.fire({\r\n          type: 'success',\r\n          title: 'Cập nhật thành công'\r\n        });\r\n      });\r\n    }, () => {\r\n      $(function () {\r\n        const Toast = Swal.mixin({\r\n          toast: true,\r\n          position: 'top-end',\r\n          showConfirmButton: false,\r\n          timer: 3000\r\n        });\r\n\r\n        Toast.fire({\r\n          type: 'error',\r\n          title: 'Cập nhật thất bại'\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from \"@angular/router\";\r\nimport {EditStudentComponent} from \"./edit-student/edit-student.component\";\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n  },\r\n  {\r\n    path: 'edit/:id',\r\n    component: EditStudentComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class StudentRoutingModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {StudentRoutingModule} from \"./student-routing.module\";\r\nimport {EditStudentComponent} from \"./edit-student/edit-student.component\";\r\nimport {ReactiveFormsModule} from \"@angular/forms\";\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    EditStudentComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    StudentRoutingModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class StudentModule { }\r\n"],"sourceRoot":"webpack:///","file":"student-student-module-es5.js"}