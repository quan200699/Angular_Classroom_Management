{"version":3,"sources":["./src/app/student/edit-student/edit-student.component.html","./src/app/student/edit-student/edit-student.component.css","./src/app/student/edit-student/edit-student.component.ts","./src/app/student/student-routing.module.ts","./src/app/student/student.module.ts"],"names":[],"mappings":"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","file":"student-student-module-es2015.js","sourcesContent":["export default \"<section class=\\\"content-header\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row mb-2\\\">\\r\\n      <div class=\\\"col-sm-6\\\">\\r\\n        <h1>Cập nhật thông tin học viên</h1>\\r\\n      </div>\\r\\n      <div class=\\\"col-sm-6\\\">\\r\\n        <ol class=\\\"breadcrumb float-sm-right\\\">\\r\\n          <li class=\\\"breadcrumb-item\\\"><a routerLink=\\\"\\\">Trang chủ</a></li>\\r\\n          <li class=\\\"breadcrumb-item active\\\">Cập nhật thông tin</li>\\r\\n        </ol>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div><!-- /.container-fluid -->\\r\\n</section>\\r\\n<div class=\\\"card card-default\\\">\\r\\n  <div class=\\\"card-header\\\">\\r\\n    <h3 class=\\\"card-title\\\"></h3>\\r\\n  </div>\\r\\n  <!-- /.card-header -->\\r\\n  <!-- form start -->\\r\\n  <form [formGroup]=\\\"studentForm\\\" (ngSubmit)=\\\"updateStudent(id)\\\" id=\\\"student-form\\\">\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label for=\\\"studentId\\\">Mã học viên</label>\\r\\n        <input type=\\\"text\\\" formControlName=\\\"studentId\\\" name=\\\"studentId\\\" [value]=\\\"studentId\\\" class=\\\"form-control\\\"\\r\\n               id=\\\"studentId\\\"\\r\\n               placeholder=\\\"Mã học viên\\\">\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <label for=\\\"name\\\">Tên học viên</label>\\r\\n        <input type=\\\"text\\\" formControlName=\\\"name\\\" name=\\\"name\\\" [value]=\\\"name\\\" class=\\\"form-control\\\" id=\\\"name\\\"\\r\\n               placeholder=\\\"Tên học viên\\\">\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\" *ngIf=\\\"!buttonChangeClicked\\\">\\r\\n        <label for=\\\"classes1\\\">Lớp học: </label>\\r\\n        <span id=\\\"classes1\\\" *ngIf=\\\"currentClass!=null\\\">{{currentClass.name}}</span>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary btn-sm ml-3\\\" (click)=\\\"changeButtonStatus()\\\">Đổi lớp</button>\\r\\n      </div>\\r\\n      <div class=\\\"form-group\\\" *ngIf=\\\"buttonChangeClicked\\\">\\r\\n        <label for=\\\"classes\\\">Lớp học: </label>\\r\\n        <select class=\\\"custom-select\\\" id=\\\"classes\\\" name=\\\"classes\\\" formControlName=\\\"classes\\\">\\r\\n          <option [ngValue]=\\\"null\\\" disabled>Chọn lớp học</option>\\r\\n          <option *ngFor=\\\"let classes of listClasses\\\" [value]=\\\"classes.id\\\"\\r\\n                  [selected]=\\\"classes.id === currentClass.id\\\">{{classes.name}}</option>\\r\\n        </select>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!-- /.card-body -->\\r\\n\\r\\n    <div class=\\\"card-footer\\\">\\r\\n      <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Cập nhật</button>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N0dWRlbnQvZWRpdC1zdHVkZW50L2VkaXQtc3R1ZGVudC5jb21wb25lbnQuY3NzIn0= */\"","import {Component, OnInit} from '@angular/core';\r\nimport {Subscription} from \"rxjs\";\r\nimport {FormControl, FormGroup} from \"@angular/forms\";\r\nimport {Classes} from \"../../interface/classes\";\r\nimport {ActivatedRoute, ParamMap} from \"@angular/router\";\r\nimport {StudentService} from \"../../service/student/student.service\";\r\nimport {Student} from \"../../interface/student\";\r\nimport {ClassesService} from \"../../service/classes/classes.service\";\r\n\r\ndeclare var $: any;\r\ndeclare var Swal: any;\r\n\r\n@Component({\r\n  selector: 'app-edit-student',\r\n  templateUrl: './edit-student.component.html',\r\n  styleUrls: ['./edit-student.component.css']\r\n})\r\nexport class EditStudentComponent implements OnInit {\r\n  sub: Subscription;\r\n  name: string;\r\n  id: number;\r\n  studentId: string;\r\n  currentClass: Classes;\r\n  studentForm: FormGroup = new FormGroup({\r\n    name: new FormControl(''),\r\n    studentId: new FormControl(''),\r\n    classes: new FormControl()\r\n  });\r\n  listClasses: Classes[];\r\n  buttonChangeClicked: boolean;\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n              private studentService: StudentService,\r\n              private classesService: ClassesService) {\r\n    this.buttonChangeClicked = false;\r\n    this.sub = this.activatedRoute.paramMap.subscribe((paramMap: ParamMap) => {\r\n      const id = +paramMap.get('id');\r\n      this.getStudentInfo(id);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getAllClasses();\r\n  }\r\n\r\n  changeButtonStatus() {\r\n    this.buttonChangeClicked = !this.buttonChangeClicked;\r\n  }\r\n\r\n  getAllClasses() {\r\n    this.classesService.getAllClasses().subscribe(listClasses => {\r\n      this.listClasses = listClasses;\r\n    })\r\n  }\r\n\r\n  getStudentInfo(id: number) {\r\n    this.studentService.getStudent(id).subscribe(student => {\r\n      this.name = student.name;\r\n      this.id = student.id;\r\n      this.studentId = student.studentId;\r\n      this.currentClass = student.classes;\r\n    });\r\n  }\r\n\r\n  updateStudent(id: number) {\r\n    const student: Student = {\r\n      id: this.studentForm.value.id,\r\n      studentId: this.studentForm.value.studentId === '' ? this.studentId : this.studentForm.value.studentId,\r\n      name: this.studentForm.value.name === '' ? this.name : this.studentForm.value.name,\r\n      classes: {\r\n        id: this.studentForm.value.classes === '' ? this.currentClass.id : this.studentForm.value.classes\r\n      },\r\n    };\r\n    this.studentService.updateStudent(id, student).subscribe(() => {\r\n      $(function () {\r\n        const Toast = Swal.mixin({\r\n          toast: true,\r\n          position: 'top-end',\r\n          showConfirmButton: false,\r\n          timer: 3000\r\n        });\r\n\r\n        Toast.fire({\r\n          type: 'success',\r\n          title: 'Cập nhật thành công'\r\n        });\r\n      });\r\n    }, () => {\r\n      $(function () {\r\n        const Toast = Swal.mixin({\r\n          toast: true,\r\n          position: 'top-end',\r\n          showConfirmButton: false,\r\n          timer: 3000\r\n        });\r\n\r\n        Toast.fire({\r\n          type: 'error',\r\n          title: 'Cập nhật thất bại'\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from \"@angular/router\";\r\nimport {EditStudentComponent} from \"./edit-student/edit-student.component\";\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n  },\r\n  {\r\n    path: 'edit/:id',\r\n    component: EditStudentComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class StudentRoutingModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {StudentRoutingModule} from \"./student-routing.module\";\r\nimport {EditStudentComponent} from \"./edit-student/edit-student.component\";\r\nimport {ReactiveFormsModule} from \"@angular/forms\";\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    EditStudentComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    StudentRoutingModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class StudentModule { }\r\n"],"sourceRoot":"webpack:///"}